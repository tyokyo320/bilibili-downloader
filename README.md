# Bilibili视频下载

<div align="center">
    <img src="docs/bilibili-logo.png">
</div>

<div align=center>
    <img src="https://img.shields.io/badge/python-3.8%2B-blue"/>
    <img src="https://img.shields.io/badge/requests-2.32.0-green"/>
    <img src="https://img.shields.io/badge/urllib3-1.26.19-green"/>
    <img src="https://img.shields.io/badge/httpx-0.23.1-green"/>
    <img src="https://img.shields.io/badge/beautifulsoup4-4.9.3-green"/>
    <img src="https://img.shields.io/badge/moviepy-1.0.3-green"/>
    <img src="https://img.shields.io/badge/tqdm-4.66.5-green"/>
</div>

## :pushpin: 功能说明

- [x] B站视频下载
- [x] 支持使用账号cookie下载大会员视频
- [x] 批量下载
- [x] 下载进度条
- [ ] 支持番剧下载【待更新】
- [ ] 添加代理【待更新】
- [ ] 其他【待更新】

## :white_check_mark: 安装依赖库

```bash
pip3 install -r requirements.txt
```

## :pencil2: COOKIE设置说明

打开`config.py`，**需要定期(30天)替换**cookie

替换方法：

1. 浏览器登录B站，打开要下载的视频页
2. `Ctrl + Shift + I`或者鼠标右键选择检查，然后选择`网络`
3. `Ctrl + R`刷新网页，选择第一个，请求表头中找到`cookie`

![](docs/set-cookie.png)

## :pencil2: 下载链接添加说明

打开`config.py`，在 `URL` 列表种添加视频 URL

```py
# 下载视频的 URL
URL = [
    'https://www.bilibili.com/video/BV1M4411c7P4/?spm_id_from=333.999.0.0&vd_source=9c3224b88b8a3c4cc210fc6ff9b28f63',
    'https://www.bilibili.com/video/BV1hB4y147j8/?spm_id_from=333.337.search-card.all.click',
]
```

## :rocket: 运行方法

`python main.py`

```bash
# python main.py
python main.py

📺 清晰度：高清 1080P

============================================================
📹 マリーゴールド-万寿菊 あいみょん【璃露】
============================================================

📥 下载视频：マリーゴールド-万寿菊 あいみょん【璃露】_P1.mp4
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 53.0M/53.0M [01:01<00:00, 864kB/s]
✅ 视频下载完成

🎵 下载音频：マリーゴールド-万寿菊 あいみょん【璃露】_P1.mp3
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 7.38M/7.38M [00:00<00:00, 9.43MB/s]
✅ 音频下载完成

🎬 合并视频和音频...
✅ 视频合成完成
📺 清晰度：高清 1080P

============================================================
📹 🌛勾指起誓🌛 中日英3语版【雨音月奈】
============================================================

📥 下载视频：🌛勾指起誓🌛 中日英3语版【雨音月奈】_P1.mp4
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 23.3M/23.3M [00:08<00:00, 2.83MB/s]
✅ 视频下载完成

🎵 下载音频：🌛勾指起誓🌛 中日英3语版【雨音月奈】_P1.mp3
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 4.57M/4.57M [00:01<00:00, 3.03MB/s]
✅ 音频下载完成

🎬 合并视频和音频...
✅ 视频合成完成
📺 清晰度：高清 1080P

============================================================
📹 【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris
============================================================

📥 下载视频：【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris_P1.mp4
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 50.0M/50.0M [00:18<00:00, 2.71MB/s]
✅ 视频下载完成

🎵 下载音频：【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris_P1.mp3
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 5.77M/5.77M [00:01<00:00, 4.75MB/s]
✅ 音频下载完成

🎬 合并视频和音频...
✅ 视频合成完成
📺 清晰度：高清 1080P

============================================================
📹 【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris
============================================================

📥 下载视频：【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris_P2.mp4
100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 49.4M/49.4M [00:55<00:00, 890kB/s]
✅ 视频下载完成

🎵 下载音频：【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris_P2.mp3
100%|██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 6.35M/6.35M [00:01<00:00, 3.39MB/s]
✅ 音频下载完成

🎬 合并视频和音频...
✅ 视频合成完成

============================================================
📊 下载摘要
============================================================
✅ 成功下载 4 个视频
⏱️  总计用时：2分钟38秒

已下载的视频：
  1. マリーゴールド-万寿菊 あいみょん【璃露】 (高清 1080P)
  2. 🌛勾指起誓🌛 中日英3语版【雨音月奈】 (高清 1080P)
  3. 【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris (高清 1080P)
  4. 【中日字幕OPED完整版】叹息的亡灵好想隐退第二季 OP「アルゴリズム」ED「夢へのヒトカケラ」 安野希世乃、i☆Ris (高清 1080P)

💾 视频保存位置：/home/user/work/repos/bilibili-downloader/output
============================================================
```

## :tv: 运行效果

![](docs/screen.gif)
